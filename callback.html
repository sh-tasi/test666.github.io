<!DOCTYPE html>
<html>
<head>
    <title> TgTestC </title>

</head>
<body>
    <iframe src="https://sh-tasi.github.io/test666.github.io/test.html"></iframe>
    <script>
        var getUrlString = location.href;
        var url = new URL(getUrlString);
        alert(JSON.stringify({
            id: url.searchParams.get('id'),
            first_name: url.searchParams.get('first_name'),
            last_name: url.searchParams.get('last_name'),
            username: url.searchParams.get('username'),
            photo_url: url.searchParams.get('photo_url'),
            auth_date: url.searchParams.get('auth_date'),
            hash: url.searchParams.get('hash'),
        }))
        //忽略驗簽部分
    </script>
    <script>
      // 監聽從 iframe 發來的消息
      window.addEventListener("message", function(event) {
        // 這裡可以檢查來自指定來源的消息
        if (event.origin === "https://sh-tasi.github.io") {
          // 解析來自 iframe 的數據
          console.log("收到來自 iframe 的消息:", event.data);
          // 根據消息做出回應或行動
        }
  });
</script>
</body>
</html>
